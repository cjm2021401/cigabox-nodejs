#CIGA BOX 
- 실시간 남은 좌석수에 맡게 가격을 할인해주는 영화 예매 사이트입니다.

##WHAT IS CIGABOX
- 코로나19가 번짐에 따라 영화계 불황이 이어짐 -> 영화관 자리많이 빔 
- 남은좌석이 많을수록 영화 티켓 가격이 할인되는 시스템
- 회원가입/로그인, 영화관선택, 영화선택, 조건에 맞는 상영하고있는 영화선택, 좌석 선택, 예약내역, 티켓확인 까지 가능한 서비스


###구동원리
- MYSQL을 이용하여 데이터베이스 구축
- NODE JS를 이용한 웹서버 구축, DB와 연결 및 값가져오기 / 내보내기
- HTTP, CSS, JAVASCRIPT로 구현한 웹프론트로 사람들에게 뷰를 제공


###요구사항
- MYSQL 설치
- NODE JS 지원

###기본 데이터베이스 설정

<pre><code>
CREATE USER(
u_id VARCHAR(32) NOT NULL,
passwd VARCHAR(32) NOT NULL UNIQUE,
age INT NOT NULL,
name VARCHAR(5) NOT NULL
PRIMARY KEY(u_id)
);

CREATE MOVIE(
m_title VARCHAR(32) NOT NULL,
producer VARCHAR(32) NOT NULL DEFAULT "공동제작",
introduction VARCHAR(254),
genere VARCHAR(16),
post_url VARCHAR(254),
PRIMARY KEY(m_title)
);

CREATE THEATER(
t_area VARCHAR(32) NOT NULL,
introduction VARCHAR(254),
t_url VARCHAR(254),
PRIMARY KEY(t_area)
);

CREATE HOLE(
h_id INT NOT NULL auto_increment PRIMARY KEY,
t_area varchar(32) NOT NULL FOREIGN KEY REFERENCES THEATER(t_area),
h_number int NOT NULL,
);

CREATE PLAY(
p_id INT NOT NULL PRIMARY KEY auto_increment,
m_title VARCHAR(32) NOT NULL FOREIGN KEY REFERENCES MOVIE(m_title),
h_id INT NOT NULL FOREIGN KEY REFERENCES HOLE(h_id),
start VARCHAR(32) NOT NULL,
price INT NOT NULL DEFAULT 8000,
people INT NOT NULL DEFAULT 0
);

CREATE RESERVED(
p_id INT NOT NULL FOREIGN KEY REFERENCES PLAY(p_id),
u_id VARCHAR(32) NOT NULL FOREIGN KEY REFERENCES USER(u_id)
seat_n INT NOT NULL
);
</code></pre>

## 데이터 입력
- 데이터입력은 DB구조에 맞게 영화관사이트에서 퍼와야함.
<pre><code>
            movie
            <+-----------------------+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------------------------------------------------------------------------+
           | m_title               | producer               | introduction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | genere    | post_url                                                                 |
           +-----------------------+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------------------------------------------------------------------------+
           | 귀여운여인            | 게리 마샬              | 매력적인 백만장자 &apos;에드워드&apos;는 우연히 만난 순진무구한 아가씨 &apos;비비안&apos;에게 호감을 느껴 그녀와 하룻밤을 함께 지내게 된다. 그날 이후 비비안에겐 꿈같은 나날이 펼쳐지는데…                                                                                                                                                                                                                                                                                                                                                     | 드라마    | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83983/83983_1000.jpg |
           | 도굴                  | 박정배                 | 고물인 줄 알았는데 보물이었다?!
                                                            땅 파서 장사하는 도굴꾼들이 온다!
                                                            흙 맛만 봐도 보물을 찾아내는 타고난 천재 도굴꾼 강동구(이제훈).
                                                            자칭 한국의 인디아나 존스로 불리는 고분벽화 도굴 전문가 존스 박사(조우진), 전설의 삽질 달인 삽다리(임원희)를 만나 환상(?)의 팀플레이를 자랑하며 위험천만하고도 짜릿한 도굴의 판을 키운다.                                                                                                                                                                                                                                                                                                                                                       | 범죄      | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83815/83815_1000.jpg |
           | 런                    | 아니쉬 차간티          | 가장 안전했던 그곳이 가장 위험한 공간이 된다! 
                                                            태어날 때부터 장애 때문에 휠체어를 타고 외딴 집에서 엄마와 함께 살며 일상을 보내는 ‘클로이’.
                                                            딸을 사랑으로 돌보는 엄마 덕분에 힘들지만 매일을 긍정적으로 살아간다.
                                                            그러던 어느 날 식탁에 놓인 장바구니에서 하나의 물건을 발견하게 되고
                                                            믿었던 모든 일상이 흔들리기 시작하는데                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 스릴러    | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83909/83909_1000.jpg |
           | 이웃사촌              | 이환경                 | 낮에는친근한 이웃집 vs 밤에는 수상한 도청팀
                                                            백수가장 좌천위기 도청팀장 대권(정우)은 팀원들과 함께 해외에서 입국하자마자 자택 격리된 정치인 가족을 24시간 감시하라는 미션을 받는다. 이웃집으로 위장 이사온 도청팀원들은 라디오 사연 신청부터 한밤중에 나는 부스럭 소리까지 수상한 가족들의 모든 소리와 행동을 감시하면서 새로운 비밀들을 하나씩 발견하게 되는데…                                                                                                                                                                                                                                             | 코미디    | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83970/83970_1000.jpg |
           | 펀치드렁크러브        | 폴토마스앤더슨           | 허점투성이 소심남 배리에게 신비로운 여인 레나가 다가온다. 오래 전부터 배리를 사랑해 왔다고 고백한 레나. 생에 처음 찾아온 아찔하고 가슴 벅찬 사랑을 지키기 위해 배리는 중대한 결심을 다짐하는데…                                                                                                                                                                                                                                                                                                                                                  | 로맨스    | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83982/83982_1000.jpg |
           | 프리키데스데이        | 크리스토퍼 랜던          | 평범 이하, 존재감 제로 고등학생 밀리가 우연히 중년의 싸이코 살인마와 몸이 바뀌게 되면서 벌어지는 예측불가 호러테이닝 무비                                                                                                                                                                                                                                                                                                                                                                                                                | 호러      | https://img.cgv.co.kr/Movie/Thumbnail/Poster/000083/83968/83968_320.jpg  |
           +-----------------------+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------------------------------------------------------------------------+
           
           
           THEATER
          +--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
          | t_area       | introduction                                                                                                                                                      | t_url                                                              |
          +--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
          | 강남         | 서울특별시 강남구 역삼동 814-6 스타플렉스
                          서울특별시 강남구 강남대로 438 (역삼동)위치/주차 안내 &gt;
          1544-1122                                                                                                                                                                             | https://img.cgv.co.kr/Theater/Theater/2014/1211/CGVgangnam.jpg     |
          | 건대입구     | 서울특별시 광진구 자양동 9-4 몰오브케이 3층
                         서울특별시 광진구 아차산로 30길 26 몰오브케이 3층위치/주차 안내 &gt;
                           1544-1122                                                                                                                                                            | https://img.cgv.co.kr/Theater/Theater/2018/0212/15184234292340.jpg |
          +--------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
          
          PLAY
          +------+-----------------------+------+--------+-------+--------+
          | p_id | m_title               | h_id | start  | price | people |
          +------+-----------------------+------+--------+-------+--------+
          |    1 | 도굴                  |    1 | 122512 |  7050 |      2 |
          |    2 | 도굴                  |    9 | 122512 |  7075 |      3 |
          |    3 | 도굴                  |    2 | 122520 |  7025 |      1 |
          |    4 | 귀여운여인            |    8 | 122508 |  7000 |      0 |
          |    5 | 귀여운여인            |    3 | 122512 |  7350 |     14 |
          |    6 | 귀여운여인            |    7 | 122520 |  7000 |      0 |
          |    7 | 런                    |    4 | 122512 |  7050 |      2 |
          |    8 | 런                    |    6 | 122520 |  7000 |      0 |
          |    9 | 런                    |   10 | 122508 |  7000 |      0 |
          |   10 | 이웃사촌              |    5 | 122508 |  7050 |      2 |
          |   11 | 이웃사촌              |    1 | 122520 |  7000 |      0 |
          |   12 | 이웃사촌              |   10 | 122512 |  7000 |      0 |
          |   13 | 펀치드렁크러브        |    2 | 122512 |  7050 |      2 |
          |   14 | 펀치드렁크러브        |    9 | 122520 |  7025 |      1 |
          |   15 | 펀치드렁크러브        |    3 | 122508 |  7000 |      0 |
          |   16 | 프리키데스데이        |    4 | 122508 |  7000 |      0 |
          |   17 | 프리키데스데이        |    6 | 122508 |  7000 |      0 |
          |   18 | 프리키데스데이        |    7 | 122512 |  7000 |      0 |
          +------+-----------------------+------+--------+-------+--------+
          
          HOLE
          +------+--------------+----------+
          | h_id | t_area       | h_number |
          +------+--------------+----------+
          |    1 | 강남         |        1 |
          |    2 | 강남         |        2 |
          |    3 | 강남         |        3 |
          |    4 | 강남         |        4 |
          |    5 | 강남         |        5 |
          |    6 | 건대입구     |        1 |
          |    7 | 건대입구     |        2 |
          |    8 | 건대입구     |        3 |
          |    9 | 건대입구     |        4 |
          |   10 | 건대입구     |        5 |
          +------+--------------+----------+

           
</code></pre>
- 데이터베이스 설정은 routes 폴더의 index.js에서 본인의 date로 바꿔야함

###구동
                npm install
                npm start
###문의 
-cjm2021401@khu.ac.kr